(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
module.exports={
   "feed": {
      "generator": "NFE/1.0",
      "id": "tag:news.google.com,2017-07-05:/1/us/en/1499222626741",
      "title": "HSBC0005 - Google News",
      "link": [
         {
            "_rel": "self",
            "_type": "application/atom+xml",
            "_href": "https://news.google.com/news?hl=en&pz=1&ned=us&q=HSBC0005&output=atom"
         },
         {
            "_rel": "alternate",
            "_type": "text/html",
            "_href": "https://news.google.com/news?hl=en&pz=1&ned=us&q=HSBC0005"
         }
      ],
      "author": {
         "name": "Google Inc.",
         "email": "news-feedback@google.com"
      },
      "rights": "&copy;2017 Google",
      "updated": "2017-07-05T02:43:46Z",
      "logo": "https://ssl.gstatic.com/news-static/img/logo/en_us/news.gif",
      "entry": [
         {
            "id": "tag:news.google.com,2005:cluster=http://www.marketwatch.com/story/financial-stocks-lead-asian-market-gains-2017-06-28",
            "title": {
               "_type": "html",
               "__text": "Financial stocks lead Asian market gains - MarketWatch",
               "toString": [
                  null
               ]
            },
            "updated": "2017-06-29T03:57:10Z",
            "link": [
               {
                  "_rel": "alternate",
                  "_type": "text/html",
                  "_href": "http://news.google.com/news/url?sa=t&fd=R&ct2=us&usg=AFQjCNEIVHppDn2bBSJGCFP3h5pnaVAdJA&clid=c3a7d30bb8a4878e06b80cf16b898331&cid=52779544843811&ei=YlJcWbCiGYb8qAKpvpbgAw&url=http://www.marketwatch.com/story/financial-stocks-lead-asian-market-gains-2017-06-28",
                  "_hreflang": "en"
               }
            ],
            "content": {
               "_type": "html",
               "__text": "<table border=\"0\" cellpadding=\"2\" cellspacing=\"7\" style=\"vertical-align:top;\"><tr><td width=\"80\" align=\"center\" valign=\"top\"><font style=\"font-size:85%;font-family:arial,sans-serif\"><a href=\"http://news.google.com/news/url?sa=t&amp;fd=R&amp;ct2=us&amp;usg=AFQjCNEIVHppDn2bBSJGCFP3h5pnaVAdJA&amp;clid=c3a7d30bb8a4878e06b80cf16b898331&amp;cid=52779544843811&amp;ei=YlJcWbCiGYb8qAKpvpbgAw&amp;url=http://www.marketwatch.com/story/financial-stocks-lead-asian-market-gains-2017-06-28\"><img src=\"//t2.gstatic.com/images?q=tbn:ANd9GcQSTi-he-oiwYinmXQLFUoyEYQfZ3bsmcdbj4I5RZNcV-8Wa31gcsHT0cbQrdhn1GMMr1yvXaSp\" alt=\"\" border=\"1\" width=\"80\" height=\"80\"><br><font size=\"-2\">MarketWatch</font></a></font></td><td valign=\"top\" class=\"j\"><font style=\"font-size:85%;font-family:arial,sans-serif\"><br><div style=\"padding-top:0.8em;\"><img alt=\"\" height=\"1\" width=\"1\"></div><div class=\"lh\"><a href=\"http://news.google.com/news/url?sa=t&amp;fd=R&amp;ct2=us&amp;usg=AFQjCNEIVHppDn2bBSJGCFP3h5pnaVAdJA&amp;clid=c3a7d30bb8a4878e06b80cf16b898331&amp;cid=52779544843811&amp;ei=YlJcWbCiGYb8qAKpvpbgAw&amp;url=http://www.marketwatch.com/story/financial-stocks-lead-asian-market-gains-2017-06-28\"><b>Financial stocks lead Asian market gains</b></a><br><font size=\"-1\"><b><font color=\"#6f6f6f\">MarketWatch</font></b></font><br><font size=\"-1\">Meanwhile, Hong Kong&#39;s Hang Seng Index HSI, -1.53% was up 0.8%, led by strength in banking giant <b>HSBC 0005</b>, -0.34% , which surged 3.7%. Standard Chartered 2888, -0.25% gained 3.2%. An indication of improved investor sentiment was rising crude-oil&nbsp;...</font><br><font size=\"-1\" class=\"p\"></font><br><font class=\"p\" size=\"-1\"><a class=\"p\" href=\"http://news.google.com/news/more?ncl=dlLaBGLGO9wVTpM&amp;authuser=0&amp;ned=us\"><nobr><b>and more&nbsp;&raquo;</b></nobr></a></font></div></font></td></tr></table>",
               "toString": [
                  null
               ]
            }
         },
         {
            "id": "tag:news.google.com,2005:cluster=http://www.thestandard.com.hk/section-news.php?id=184426",
            "title": {
               "_type": "html",
               "__text": "BOCHK closes at all-time high - Hong Kong Standard (press release)",
               "toString": [
                  null
               ]
            },
            "updated": "2017-06-26T20:01:42Z",
            "link": [
               {
                  "_rel": "alternate",
                  "_type": "text/html",
                  "_href": "http://news.google.com/news/url?sa=t&fd=R&ct2=us&usg=AFQjCNHnmWOcJsh5sHZbLTwc4RhV3GL_rQ&clid=c3a7d30bb8a4878e06b80cf16b898331&cid=52779540345383&ei=YlJcWbCiGYb8qAKpvpbgAw&url=http://www.thestandard.com.hk/section-news.php?id%3D184426",
                  "_hreflang": "en"
               }
            ],
            "content": {
               "_type": "html",
               "__text": "<table border=\"0\" cellpadding=\"2\" cellspacing=\"7\" style=\"vertical-align:top;\"><tr><td width=\"80\" align=\"center\" valign=\"top\"><font style=\"font-size:85%;font-family:arial,sans-serif\"></font></td><td valign=\"top\" class=\"j\"><font style=\"font-size:85%;font-family:arial,sans-serif\"><br><div style=\"padding-top:0.8em;\"><img alt=\"\" height=\"1\" width=\"1\"></div><div class=\"lh\"><a href=\"http://news.google.com/news/url?sa=t&amp;fd=R&amp;ct2=us&amp;usg=AFQjCNHnmWOcJsh5sHZbLTwc4RhV3GL_rQ&amp;clid=c3a7d30bb8a4878e06b80cf16b898331&amp;cid=52779540345383&amp;ei=YlJcWbCiGYb8qAKpvpbgAw&amp;url=http://www.thestandard.com.hk/section-news.php?id%3D184426\"><b>BOCHK closes at all-time high</b></a><br><font size=\"-1\"><b><font color=\"#6f6f6f\">Hong Kong Standard (press release)</font></b></font><br><font size=\"-1\">Tencent (0700) rose 1.36 percent to HK$284, <b>HSBC (0005</b>) closed 0.52 percent higher at HK$68.15, and Ping An Insurance (2318) gained 1.53 percent to HK$53.10. Secretary for Financial Services and the Treasury, Ceajer Chan Ka-keung, said the&nbsp;...</font><br><font size=\"-1\" class=\"p\"></font><br><font class=\"p\" size=\"-1\"><a class=\"p\" href=\"http://news.google.com/news/more?ncl=d5A19L2pkEC_j6M&amp;authuser=0&amp;ned=us\"><nobr><b>and more&nbsp;&raquo;</b></nobr></a></font></div></font></td></tr></table>",
               "toString": [
                  null
               ]
            }
         },
         {
            "id": "tag:news.google.com,2005:cluster=http://www.nasdaq.com/article/hong-kong-cbank-raises-base-rate-25-bps-after-fed-hike-banks-not-following-20170615-00204",
            "title": {
               "_type": "html",
               "__text": "Hong Kong c.bank raises base rate 25 bps after Fed hike, banks not following - Nasdaq",
               "toString": [
                  null
               ]
            },
            "updated": "2017-06-15T10:19:00Z",
            "link": [
               {
                  "_rel": "alternate",
                  "_type": "text/html",
                  "_href": "http://news.google.com/news/url?sa=t&fd=R&ct2=us&usg=AFQjCNErGY76cKgq2BMpqKFnaZTD248BYQ&clid=c3a7d30bb8a4878e06b80cf16b898331&cid=52779528732059&ei=YlJcWbCiGYb8qAKpvpbgAw&url=http://www.nasdaq.com/article/hong-kong-cbank-raises-base-rate-25-bps-after-fed-hike-banks-not-following-20170615-00204",
                  "_hreflang": "en"
               }
            ],
            "content": {
               "_type": "html",
               "__text": "<table border=\"0\" cellpadding=\"2\" cellspacing=\"7\" style=\"vertical-align:top;\"><tr><td width=\"80\" align=\"center\" valign=\"top\"><font style=\"font-size:85%;font-family:arial,sans-serif\"><a href=\"http://news.google.com/news/url?sa=t&amp;fd=R&amp;ct2=us&amp;usg=AFQjCNErGY76cKgq2BMpqKFnaZTD248BYQ&amp;clid=c3a7d30bb8a4878e06b80cf16b898331&amp;cid=52779528732059&amp;ei=YlJcWbCiGYb8qAKpvpbgAw&amp;url=http://www.nasdaq.com/article/hong-kong-cbank-raises-base-rate-25-bps-after-fed-hike-banks-not-following-20170615-00204\"><img src=\"//t3.gstatic.com/images?q=tbn:ANd9GcRQ8nZ3seEfG-_E3oGbvFbevZnxPhIObYUVRFwWOsX9S0gq2jylzUP0z4kz_SLzS0hgB_cZXEi4\" alt=\"\" border=\"1\" width=\"80\" height=\"80\"><br><font size=\"-2\">Nasdaq</font></a></font></td><td valign=\"top\" class=\"j\"><font style=\"font-size:85%;font-family:arial,sans-serif\"><br><div style=\"padding-top:0.8em;\"><img alt=\"\" height=\"1\" width=\"1\"></div><div class=\"lh\"><a href=\"http://news.google.com/news/url?sa=t&amp;fd=R&amp;ct2=us&amp;usg=AFQjCNErGY76cKgq2BMpqKFnaZTD248BYQ&amp;clid=c3a7d30bb8a4878e06b80cf16b898331&amp;cid=52779528732059&amp;ei=YlJcWbCiGYb8qAKpvpbgAw&amp;url=http://www.nasdaq.com/article/hong-kong-cbank-raises-base-rate-25-bps-after-fed-hike-banks-not-following-20170615-00204\"><b>Hong Kong c.bank raises base rate 25 bps after Fed hike, banks not following</b></a><br><font size=\"-1\"><b><font color=\"#6f6f6f\">Nasdaq</font></b></font><br><font size=\"-1\">[nL3N1JB50S] However, <b>HSBC &lt;0005</b>.HK&gt; &lt;HSBA.L&gt; and Standard Chartered &lt;2888.HK&gt; &lt;STAN.L&gt; later said they would leave the city&#39;s best lending rate unchanged. [nH9N1IE00D] HKMA chief executive Norman Chan warned residents to tread cautiously&nbsp;...</font><br><font size=\"-1\" class=\"p\"></font><br><font class=\"p\" size=\"-1\"><a class=\"p\" href=\"http://news.google.com/news/more?ncl=dGseAJEb6AabdPM&amp;authuser=0&amp;ned=us\"><nobr><b>and more&nbsp;&raquo;</b></nobr></a></font></div></font></td></tr></table>",
               "toString": [
                  null
               ]
            }
         },
         {
            "id": "tag:news.google.com,2005:cluster=http://www.thestandard.com.hk/section-news.php?id=182187",
            "title": {
               "_type": "html",
               "__text": "HSBC can't wait to see rate hike - Hong Kong Standard (press release)",
               "toString": [
                  null
               ]
            },
            "updated": "2017-04-24T20:00:24Z",
            "link": [
               {
                  "_rel": "alternate",
                  "_type": "text/html",
                  "_href": "http://news.google.com/news/url?sa=t&fd=R&ct2=us&usg=AFQjCNErNnVn2MwhlGN2YoLLmqFLUF2UoA&clid=c3a7d30bb8a4878e06b80cf16b898331&cid=52779470246653&ei=YlJcWbCiGYb8qAKpvpbgAw&url=http://www.thestandard.com.hk/section-news.php?id%3D182187",
                  "_hreflang": "en"
               }
            ],
            "content": {
               "_type": "html",
               "__text": "<table border=\"0\" cellpadding=\"2\" cellspacing=\"7\" style=\"vertical-align:top;\"><tr><td width=\"80\" align=\"center\" valign=\"top\"><font style=\"font-size:85%;font-family:arial,sans-serif\"></font></td><td valign=\"top\" class=\"j\"><font style=\"font-size:85%;font-family:arial,sans-serif\"><br><div style=\"padding-top:0.8em;\"><img alt=\"\" height=\"1\" width=\"1\"></div><div class=\"lh\"><a href=\"http://news.google.com/news/url?sa=t&amp;fd=R&amp;ct2=us&amp;usg=AFQjCNErNnVn2MwhlGN2YoLLmqFLUF2UoA&amp;clid=c3a7d30bb8a4878e06b80cf16b898331&amp;cid=52779470246653&amp;ei=YlJcWbCiGYb8qAKpvpbgAw&amp;url=http://www.thestandard.com.hk/section-news.php?id%3D182187\"><b>HSBC can&#39;t wait to see rate hike</b></a><br><font size=\"-1\"><b><font color=\"#6f6f6f\">Hong Kong Standard (press release)</font></b></font><br><font size=\"-1\">A higher interest rate environment will boost <b>HSBC (0005</b>) following the largest restructuring in its history since 2011, chief executive Stuart Gulliver said during an informal shareholders&#39; meeting yesterday. He made the remark in response to some&nbsp;...</font><br><font size=\"-1\" class=\"p\"></font><br><font class=\"p\" size=\"-1\"><a class=\"p\" href=\"http://news.google.com/news/more?ncl=dusFrW3U_NTGRFM&amp;authuser=0&amp;ned=us\"><nobr><b>and more&nbsp;&raquo;</b></nobr></a></font></div></font></td></tr></table>",
               "toString": [
                  null
               ]
            }
         },
         {
            "id": "tag:news.google.com,2005:cluster=http://www.thestandard.com.hk/section-news.php?id=179815",
            "title": {
               "_type": "html",
               "__text": "HSBC pre-tax profit fall seen - Hong Kong Standard (press release)",
               "toString": [
                  null
               ]
            },
            "updated": "2017-02-19T20:04:11Z",
            "link": [
               {
                  "_rel": "alternate",
                  "_type": "text/html",
                  "_href": "http://news.google.com/news/url?sa=t&fd=R&ct2=us&usg=AFQjCNHWTSyuBDtmGpAdR__hbjQeH-fvmA&clid=c3a7d30bb8a4878e06b80cf16b898331&ei=YlJcWbCiGYb8qAKpvpbgAw&url=http://www.thestandard.com.hk/section-news.php?id%3D179815",
                  "_hreflang": "en"
               }
            ],
            "content": {
               "_type": "html",
               "__text": "<table border=\"0\" cellpadding=\"2\" cellspacing=\"7\" style=\"vertical-align:top;\"><tr><td width=\"80\" align=\"center\" valign=\"top\"><font style=\"font-size:85%;font-family:arial,sans-serif\"></font></td><td valign=\"top\" class=\"j\"><font style=\"font-size:85%;font-family:arial,sans-serif\"><br><div style=\"padding-top:0.8em;\"><img alt=\"\" height=\"1\" width=\"1\"></div><div class=\"lh\"><a href=\"http://news.google.com/news/url?sa=t&amp;fd=R&amp;ct2=us&amp;usg=AFQjCNHWTSyuBDtmGpAdR__hbjQeH-fvmA&amp;clid=c3a7d30bb8a4878e06b80cf16b898331&amp;ei=YlJcWbCiGYb8qAKpvpbgAw&amp;url=http://www.thestandard.com.hk/section-news.php?id%3D179815\"><b>HSBC pre-tax profit fall seen</b></a><br><font size=\"-1\"><b><font color=\"#6f6f6f\">Hong Kong Standard (press release)</font></b></font><br><font size=\"-1\"><b>HSBC (0005</b>) will release its annual results tomorrow, with brokerage houses forecasting the global banking giant&#39;s pretax profit to fall 30 percent to US$13.34 billion (HK$104.05 billion) for 2016, compared to the previous year. Market players forecast <b>...</b></font><br><font size=\"-1\" class=\"p\"></font><br><font class=\"p\" size=\"-1\"><a class=\"p\" href=\"http://news.google.com/news/more?ncl=d54PTiWrPit_UmM&amp;authuser=0&amp;ned=us\"><nobr><b></b></nobr></a></font></div></font></td></tr></table>",
               "toString": [
                  null
               ]
            }
         },
         {
            "id": "tag:news.google.com,2005:cluster=http://www.thestandard.com.hk/section-news.php?id=178834",
            "title": {
               "_type": "html",
               "__text": "HSBC job pruning under way - Hong Kong Standard (press release)",
               "toString": [
                  null
               ]
            },
            "updated": "2017-01-22T20:02:26Z",
            "link": [
               {
                  "_rel": "alternate",
                  "_type": "text/html",
                  "_href": "http://news.google.com/news/url?sa=t&fd=R&ct2=us&usg=AFQjCNFNlL83dlErsxTOdv8Sx6Ph3vshMw&clid=c3a7d30bb8a4878e06b80cf16b898331&cid=52779356896781&ei=YlJcWbCiGYb8qAKpvpbgAw&url=http://www.thestandard.com.hk/section-news.php?id%3D178834",
                  "_hreflang": "en"
               }
            ],
            "content": {
               "_type": "html",
               "__text": "<table border=\"0\" cellpadding=\"2\" cellspacing=\"7\" style=\"vertical-align:top;\"><tr><td width=\"80\" align=\"center\" valign=\"top\"><font style=\"font-size:85%;font-family:arial,sans-serif\"></font></td><td valign=\"top\" class=\"j\"><font style=\"font-size:85%;font-family:arial,sans-serif\"><br><div style=\"padding-top:0.8em;\"><img alt=\"\" height=\"1\" width=\"1\"></div><div class=\"lh\"><a href=\"http://news.google.com/news/url?sa=t&amp;fd=R&amp;ct2=us&amp;usg=AFQjCNFNlL83dlErsxTOdv8Sx6Ph3vshMw&amp;clid=c3a7d30bb8a4878e06b80cf16b898331&amp;cid=52779356896781&amp;ei=YlJcWbCiGYb8qAKpvpbgAw&amp;url=http://www.thestandard.com.hk/section-news.php?id%3D178834\"><b>HSBC job pruning under way</b></a><br><font size=\"-1\"><b><font color=\"#6f6f6f\">Hong Kong Standard (press release)</font></b></font><br><font size=\"-1\">London-headquartered <b>HSBC (0005</b>) has begun cutting around 100 senior jobs in its investment banking division worldwide. The cuts appear to be focused on people at managing director and director levels in the Global Banking and Markets division.</font><br><font size=\"-1\" class=\"p\"></font><br><font class=\"p\" size=\"-1\"><a class=\"p\" href=\"http://news.google.com/news/more?ncl=d8YBhYMnONlZv-M&amp;authuser=0&amp;ned=us\"><nobr><b>and more&nbsp;&raquo;</b></nobr></a></font></div></font></td></tr></table>",
               "toString": [
                  null
               ]
            }
         },
         {
            "id": "tag:news.google.com,2005:cluster=http://www.thestandard.com.hk/section-news.php?id=178449",
            "title": {
               "_type": "html",
               "__text": "HSBC plans for Brexit - Hong Kong Standard (press release)",
               "toString": [
                  null
               ]
            },
            "updated": "2017-01-11T20:00:32Z",
            "link": [
               {
                  "_rel": "alternate",
                  "_type": "text/html",
                  "_href": "http://news.google.com/news/url?sa=t&fd=R&ct2=us&usg=AFQjCNFeMpJJ0IZ3GU2ymPpIxG9yOXlxjA&clid=c3a7d30bb8a4878e06b80cf16b898331&cid=52779340394493&ei=YlJcWbCiGYb8qAKpvpbgAw&url=http://www.thestandard.com.hk/section-news.php?id%3D178449",
                  "_hreflang": "en"
               }
            ],
            "content": {
               "_type": "html",
               "__text": "<table border=\"0\" cellpadding=\"2\" cellspacing=\"7\" style=\"vertical-align:top;\"><tr><td width=\"80\" align=\"center\" valign=\"top\"><font style=\"font-size:85%;font-family:arial,sans-serif\"></font></td><td valign=\"top\" class=\"j\"><font style=\"font-size:85%;font-family:arial,sans-serif\"><br><div style=\"padding-top:0.8em;\"><img alt=\"\" height=\"1\" width=\"1\"></div><div class=\"lh\"><a href=\"http://news.google.com/news/url?sa=t&amp;fd=R&amp;ct2=us&amp;usg=AFQjCNFeMpJJ0IZ3GU2ymPpIxG9yOXlxjA&amp;clid=c3a7d30bb8a4878e06b80cf16b898331&amp;cid=52779340394493&amp;ei=YlJcWbCiGYb8qAKpvpbgAw&amp;url=http://www.thestandard.com.hk/section-news.php?id%3D178449\"><b>HSBC plans for Brexit</b></a><br><font size=\"-1\"><b><font color=\"#6f6f6f\">Hong Kong Standard (press release)</font></b></font><br><font size=\"-1\"><b>HSBC (0005</b>) plans to move jobs out of Britain before negotiations over Brexit end, chairman Douglas Flint told British lawmakers. Speaking before a hearing of the treasury select committee of the House of Commons on Tuesday, Flint said the lender needs <b>...</b></font><br><font size=\"-1\" class=\"p\"></font><br><font class=\"p\" size=\"-1\"><a class=\"p\" href=\"http://news.google.com/news/more?ncl=dE6IKZ6_sJX6T1M&amp;authuser=0&amp;ned=us\"><nobr><b>and more&nbsp;&raquo;</b></nobr></a></font></div></font></td></tr></table>",
               "toString": [
                  null
               ]
            }
         },
         {
            "id": "tag:news.google.com,2005:cluster=http://www.thestandard.com.hk/section-news.php?id=176629",
            "title": {
               "_type": "html",
               "__text": "Cash rebates used to spark home buys - Hong Kong Standard (press release)",
               "toString": [
                  null
               ]
            },
            "updated": "2016-11-22T20:01:41Z",
            "link": [
               {
                  "_rel": "alternate",
                  "_type": "text/html",
                  "_href": "http://news.google.com/news/url?sa=t&fd=R&ct2=us&usg=AFQjCNFHNgDP8lHfQEqYAvd33myuHThzaA&clid=c3a7d30bb8a4878e06b80cf16b898331&ei=YlJcWbCiGYb8qAKpvpbgAw&url=http://www.thestandard.com.hk/section-news.php?id%3D176629",
                  "_hreflang": "en"
               }
            ],
            "content": {
               "_type": "html",
               "__text": "<table border=\"0\" cellpadding=\"2\" cellspacing=\"7\" style=\"vertical-align:top;\"><tr><td width=\"80\" align=\"center\" valign=\"top\"><font style=\"font-size:85%;font-family:arial,sans-serif\"></font></td><td valign=\"top\" class=\"j\"><font style=\"font-size:85%;font-family:arial,sans-serif\"><br><div style=\"padding-top:0.8em;\"><img alt=\"\" height=\"1\" width=\"1\"></div><div class=\"lh\"><a href=\"http://news.google.com/news/url?sa=t&amp;fd=R&amp;ct2=us&amp;usg=AFQjCNFHNgDP8lHfQEqYAvd33myuHThzaA&amp;clid=c3a7d30bb8a4878e06b80cf16b898331&amp;ei=YlJcWbCiGYb8qAKpvpbgAw&amp;url=http://www.thestandard.com.hk/section-news.php?id%3D176629\"><b>Cash rebates used to spark home buys</b></a><br><font size=\"-1\"><b><font color=\"#6f6f6f\">Hong Kong Standard (press release)</font></b></font><br><font size=\"-1\">`Many banks, including Bank of China (Hong Kong) (2388), <b>HSBC (0005</b>), Hang Seng Bank (0011), Standard Chartered Hong Kong and ICBC (1398), have raised the mortgage cash rebates level from 1.3 percent to 1.4 percent. For example, with a mortgage&nbsp;...</font><br><font size=\"-1\" class=\"p\"></font><br><font class=\"p\" size=\"-1\"><a class=\"p\" href=\"http://news.google.com/news/more?ncl=dpbl29TU4l_pxDM&amp;authuser=0&amp;ned=us\"><nobr><b></b></nobr></a></font></div></font></td></tr></table>",
               "toString": [
                  null
               ]
            }
         },
         {
            "id": "tag:news.google.com,2005:cluster=http://www.barrons.com/articles/why-is-standard-chartered-soaring-1484634491",
            "title": {
               "_type": "html",
               "__text": "Why Is Standard Chartered Soaring? - Barron's",
               "toString": [
                  null
               ]
            },
            "updated": "2017-01-17T06:29:36Z",
            "link": [
               {
                  "_rel": "alternate",
                  "_type": "text/html",
                  "_href": "http://news.google.com/news/url?sa=t&fd=R&ct2=us&usg=AFQjCNHaWBTzRlaMFXOMJct_MYQxSPaJcQ&clid=c3a7d30bb8a4878e06b80cf16b898331&cid=52779351101617&ei=YlJcWbCiGYb8qAKpvpbgAw&url=http://www.barrons.com/articles/why-is-standard-chartered-soaring-1484634491",
                  "_hreflang": "en"
               }
            ],
            "content": {
               "_type": "html",
               "__text": "<table border=\"0\" cellpadding=\"2\" cellspacing=\"7\" style=\"vertical-align:top;\"><tr><td width=\"80\" align=\"center\" valign=\"top\"><font style=\"font-size:85%;font-family:arial,sans-serif\"></font></td><td valign=\"top\" class=\"j\"><font style=\"font-size:85%;font-family:arial,sans-serif\"><br><div style=\"padding-top:0.8em;\"><img alt=\"\" height=\"1\" width=\"1\"></div><div class=\"lh\"><a href=\"http://news.google.com/news/url?sa=t&amp;fd=R&amp;ct2=us&amp;usg=AFQjCNHaWBTzRlaMFXOMJct_MYQxSPaJcQ&amp;clid=c3a7d30bb8a4878e06b80cf16b898331&amp;cid=52779351101617&amp;ei=YlJcWbCiGYb8qAKpvpbgAw&amp;url=http://www.barrons.com/articles/why-is-standard-chartered-soaring-1484634491\"><b>Why Is Standard Chartered Soaring?</b></a><br><font size=\"-1\"><b><font color=\"#6f6f6f\">Barron's</font></b></font><br><font size=\"-1\">We are reducing the beta assumptions in the residual income model we use to find TPs for <b>HSBC (0005</b>.HK) and STAN (2888.HK); this is to reflect the lower-than-expected volatility since we raised assumptions post Brexit (June 28, 2016). We had expected&nbsp;...</font><br><font size=\"-1\" class=\"p\"></font><br><font class=\"p\" size=\"-1\"><a class=\"p\" href=\"http://news.google.com/news/more?ncl=dEfHkGRdw1Nc2zM&amp;authuser=0&amp;ned=us\"><nobr><b>and more&nbsp;&raquo;</b></nobr></a></font></div></font></td></tr></table>",
               "toString": [
                  null
               ]
            }
         },
         {
            "id": "tag:news.google.com,2005:cluster=http://www.thestandard.com.hk/section-news.php?id=173204",
            "title": {
               "_type": "html",
               "__text": "Banks put caps on card spend rewards - Hong Kong Standard (press release)",
               "toString": [
                  null
               ]
            },
            "updated": "2016-08-23T20:06:13Z",
            "link": [
               {
                  "_rel": "alternate",
                  "_type": "text/html",
                  "_href": "http://news.google.com/news/url?sa=t&fd=R&ct2=us&usg=AFQjCNFItVau0dkjwqivY6BGhX65KX1bfQ&clid=c3a7d30bb8a4878e06b80cf16b898331&ei=YlJcWbCiGYb8qAKpvpbgAw&url=http://www.thestandard.com.hk/section-news.php?id%3D173204",
                  "_hreflang": "en"
               }
            ],
            "content": {
               "_type": "html",
               "__text": "<table border=\"0\" cellpadding=\"2\" cellspacing=\"7\" style=\"vertical-align:top;\"><tr><td width=\"80\" align=\"center\" valign=\"top\"><font style=\"font-size:85%;font-family:arial,sans-serif\"></font></td><td valign=\"top\" class=\"j\"><font style=\"font-size:85%;font-family:arial,sans-serif\"><br><div style=\"padding-top:0.8em;\"><img alt=\"\" height=\"1\" width=\"1\"></div><div class=\"lh\"><a href=\"http://news.google.com/news/url?sa=t&amp;fd=R&amp;ct2=us&amp;usg=AFQjCNFItVau0dkjwqivY6BGhX65KX1bfQ&amp;clid=c3a7d30bb8a4878e06b80cf16b898331&amp;ei=YlJcWbCiGYb8qAKpvpbgAw&amp;url=http://www.thestandard.com.hk/section-news.php?id%3D173204\"><b>Banks put caps on card spend rewards</b></a><br><font size=\"-1\"><b><font color=\"#6f6f6f\">Hong Kong Standard (press release)</font></b></font><br><font size=\"-1\"><b>HSBC (0005</b>) and Hang Seng Bank (0011) are cutting cash rebates for credit card holders by capping the online spending eligible for it at HK$10,000. HSBC&#39;s new cap is applicable to platinum card holders from November, who will only be able to gain&nbsp;...</font><br><font size=\"-1\" class=\"p\"></font><br><font class=\"p\" size=\"-1\"><a class=\"p\" href=\"http://news.google.com/news/more?ncl=dKNg53m6_Duxx1M&amp;authuser=0&amp;ned=us\"><nobr><b></b></nobr></a></font></div></font></td></tr></table>",
               "toString": [
                  null
               ]
            }
         }
      ],
      "_xmlns": "http://www.w3.org/2005/Atom"
   }
}

},{}],2:[function(require,module,exports){
// Due to cross origin issues with the google-news npm, this is the workaround
// using a JSON file with news for HSBC, ticker 0005

var fakeNews = require('../misc-ref/fakenews.json')

function getNews () {
  var newsRelatedData = fakeNews.feed.entry
  var noOfStories = newsRelatedData.length
  var selectedNewsData = []
  for (i=0; i<noOfStories; i++) {
    var storyObject = {}
    storyObject.title = newsRelatedData[i].title.__text
    storyObject.datePublished = newsRelatedData[i].updated
    storyObject.storyUrl = newsRelatedData[i].id
    selectedNewsData.push(storyObject)
  }
  return selectedNewsData
  }

module.exports.getNews = getNews

// Below works on node (save it!!)... but fails on browser.
// this uses the google-news package. Code copied from: https://www.npmjs.com/package/google-news

// function getNews (coyName, coyTicker) {
//   var GoogleNews, googleNews, track,
//
//   GoogleNews = require('google-news')
//   googleNews = new GoogleNews()
//
//   track = coyName + coyTicker
//
//   googleNews.stream(track, function (stream) {
//     stream.on(GoogleNews.DATA, function (data) {
//       return console.log('Data Event received... ' + data.title)
//     })
//
//     stream.on(GoogleNews.ERROR, function (error) {
//       return console.log('Error Event received... ' + error)
//     })
//   })
// }
// console.log(getNews('HSBC', '0005'))
// module.exports.getNews = getNews


// google-finance package. Google news with a ticker. Copied from:
//  https://github.com/pilwon/node-google-finance/blob/master/examples/callback/company-news-single.js

// var util = require('util');
//
// var _ = require('lodash');
// var googleFinance = require('google-finance');
//
// var SYMBOL = 'NASDAQ:AAPL';
//
// googleFinance.companyNews({
//   symbol: SYMBOL
// }, function (err, news) {
//   if (err) { throw err; }
//   console.log(util.format(
//     '=== %s (%d) ===',
//     SYMBOL,
//     news.length
//   ).cyan);
//   if (news[0]) {
//     console.log(
//       '%s\n...\n%s',
//       JSON.stringify(news[0], null, 2),
//       JSON.stringify(news[news.length - 1], null, 2)
//     );
//   } else {
//     console.log('N/A');
//   }
// });

},{"../misc-ref/fakenews.json":1}],3:[function(require,module,exports){

var callnews = require('./callnews.js')

document.addEventListener('DOMContentLoaded', init)

function init () {
  var status = 'Not Started'
  document.body.querySelector('#status').textContent = 'Game Status: ' + status
  // var p1 = new Player()
  // var p2 = new Player()
  // create an object to store the parameters submitted by players. This function
  // is called when the form is submitted
  var form = document.querySelector('form')

  var parameters = {}
  function initiateParams () {
    parameters.p1Name = form.p1Name.value
    parameters.p2Name = form.p2Name.value
    parameters.walletSize = form.walletSize.value
    parameters.holdingPeriod = form.holdingPeriod.value
    status = 'Parameters submitted, P1 playing'
  }

  // this will stop the form to submit
  form.addEventListener('submit', function (e) {
    e.preventDefault()
    initiateParams()
  })

  // add event listener to research button. When this button is clicked, grab
  // and return news (fakenews.json used as json source)
  var researchGoBtns = document.querySelectorAll('.research-area input[type="button"]')
  for (var i = 0; i < researchGoBtns.length; i++) {
    researchGoBtns[i].addEventListener('click', displayNews)
  }

  var newsData = {}
  function displayNews (event) {
    var newsData = callnews.getNews()
    var noOfStories = newsData.length
    for (i = 0; i < noOfStories; i++) {
      var p = document.createElement('p')
      p.textContent = newsData[i].title
      var newsArea = event.target.nextElementSibling.nextElementSibling
      newsArea.appendChild(p)
    }
  }

  // add event listener to Select Ticker button. When this button is clicked, grab
  // ticker entered, and add text prompt for next step

  var selectTickerBtns = document.querySelectorAll('.thesis-buy-area input[type="button"]')
  for (var i = 0; i < selectTickerBtns.length; i++) {
    selectTickerBtns[i].addEventListener('click', createPlayerData)
  }

  var player = 1
  var player1Data = {}
  var player2Data = {}
  function createPlayerData (event) {
    if (player === 1) {
      var buyThisTicker = event.target.previousElementSibling.value
      player1Data.ticker = buyThisTicker
      var thesis = event.target.previousElementSibling.previousElementSibling.value
      player1Data.thesis = thesis
      var promptText = event.target.nextElementSibling
      promptText.textContent = 'Thesis and ticker submitted! Next player\'s turn.'
      player = 2
    } else if (player === 2) {
      var buyThisTicker = event.target.previousElementSibling.value
      player2Data.ticker = buyThisTicker
      var thesis = event.target.previousElementSibling.previousElementSibling.value
      player2Data.thesis = thesis
      var promptText = event.target.nextElementSibling
      promptText.textContent = 'All set! Click on Execute Trades below to submit both trades.'
      var p = document.querySelector('#execute-div p')
      var p1text = document.createElement('p')
      p1text.textContent = 'Player 1: ' + JSON.stringify(player1Data)
      var p2text = document.createElement('p')
      p2text.textContent = 'Player 2: ' + JSON.stringify(player2Data)
      p.appendChild(p1text)
      p.appendChild(p2text)
      player = 3    // imagine player 3 is the program, and it is now running to determine winner
    }
  }

// When Execute Trades button is clicked, determine and display the winner
  var executeTradesBtn = document.querySelector('#execute-div button')
  executeTradesBtn.addEventListener('click', determineWinner)

  var winner = ''
  function determineWinner (event) {
    // For P1
    var priceData = getPrice(player1Data.ticker)
    var companyName = priceData.dataset.name
    player1Data.companyName = companyName
    var startPrice = priceData.dataset.data[parameters.holdingPeriod][1]
    player1Data.startPrice = startPrice
    var endPrice = priceData.dataset.data[0][1]
    player1Data.endPrice = endPrice
    var startPriceDate = priceData.dataset.data[parameters.holdingPeriod][0]
    player1Data.startPriceDate = startPriceDate
    var endPriceDate = priceData.dataset.data[0][0]
    player1Data.endPriceDate = endPriceDate
    var roi = endPrice/startPrice-1
    player1Data.roi = roi
    var wallet = (1 + roi) * parameters.walletSize
    player1Data.wallet = wallet
    // console.log(player1Data)

    // For P2
    var priceData = getPrice(player2Data.ticker)
    var startPrice = priceData.dataset.data[parameters.holdingPeriod][1]
    player2Data.startPrice = startPrice
    var endPrice = priceData.dataset.data[0][1]
    player2Data.endPrice = endPrice
    var startPriceDate = priceData.dataset.data[parameters.holdingPeriod][0]
    player2Data.startPriceDate = startPriceDate
    var endPriceDate = priceData.dataset.data[0][0]
    player2Data.endPriceDate = endPriceDate
    var roi = endPrice/startPrice-1
    player2Data.roi = roi
    var wallet = (1 + roi) * parameters.walletSize
    player2Data.wallet = wallet
    // console.log(player2Data)

    console.log(parameters)
    console.log(parameters.p1Name)
    console.log(parameters.holdingPeriod)
    var winner = (player1Data.wallet > player2Data.wallet) ? parameters.p1Name : parameters.p2Name
    var whoWonP = document.querySelector('#who-won')
    whoWonP.textContent = winner + "won!"
    var roiP = document.querySelector('#roi')
    roiP.textContent = parameters.p1name + ' achieved a return on investment of ' + player1Data.roi + ', while ' + parameters.p2name + ' achieved a return on investment of ' + player2Data.roi
    var walletP = document.querySelector('#wallet')
    walletP.textContent = 'At the end of the holding period, ' + parameters.p1name + ' had $' + player1Data.wallet + 'in his/her wallet, while ' + parameters.p2name + ' had $' + player2Data.wallet + 'in his/her wallet.'
  }

  function getPrice(ticker) {
    var req = new XMLHttpRequest()
    var stockUrl = 'https://www.quandl.com/api/v3/datasets/HKEX/' + ticker + '.json?2&api_key=1VqFiTXxySMhKgkyNfPp'
    req.open('GET', stockUrl, false)
    req.send(null)
    // console.log(req.status)
    var dataObj = JSON.parse(req.responseText)
    return dataObj
    // console.log(dataObj.dataset.newest_available_date)
    // var responseObject = JSON.parse(req.responseText)
    // var company_id = responseObject['company_id']
    // console.log(company_id)
  }
}

},{"./callnews.js":2}]},{},[3]);
